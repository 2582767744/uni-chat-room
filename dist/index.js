"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),j={"1f600":"ÂæÆÁ¨ë","1f601":"ÂòªÂòª","1f602":"Á¨ëÂì≠","1f603":"ÂºÄÂøÉ","1f604":"Â§ßÁ¨ë","1f605":"Ëã¶Á¨ë","1f606":"ÊñúÁúºÁ¨ë","1f609":"Áú®Áúº","1f60a":"ÂÆ≥Áæû","1f60b":"È¶ã","1f60c":"ÂæóÊÑè","1f60d":"Ëä±Áó¥","1f60e":"Â¢®Èïú","1f60f":"ÂùèÁ¨ë","1f610":"Êó†ËØ≠","1f612":"‰∏çÂ±ë","1f613":"Ê±ó","1f614":"Ê≤âÊÄù","1f616":"Á∫†Áªì","1f618":"È£ûÂêª","1f61a":"‰∫≤‰∫≤","1f61c":"ÂêêËàå","1f61d":"È¨ºËÑ∏","1f61e":"Â§±Êúõ","1f620":"ÁîüÊ∞î","1f621":"ÊÑ§ÊÄí","1f622":"ÊµÅÊ≥™","1f623":"ÁóõËã¶","1f624":"ÊÄíÁÅ´","1f625":"ÂßîÂ±à","1f628":"ÂÆ≥ÊÄï","1f629":"Áñ≤ÊÉ´","1f62a":"Âõ∞","1f62b":"Á¥Ø","1f62d":"Â§ßÂì≠","1f62e":"ÊÉäËÆ∂","1f62f":"ÁõÆÁû™Âè£ÂëÜ","1f630":"ÂÜ∑Ê±ó","1f631":"Â∞ñÂè´","1f632":"ÈúáÊÉä","1f633":"ËÑ∏Á∫¢","1f634":"Áù°Ëßâ","1f635":"Êôï","1f636":"Ê≤âÈªò","1f637":"Âè£ÁΩ©","1f641":"ÂæÆÂæÆ‰∏çÊª°","1f642":"ÂëµÂëµ","1f643":"ÂÄíËÑ∏","1f644":"ÁøªÁôΩÁúº","1f910":"Èó≠Âò¥","1f911":"ÂèëË¥¢","1f912":"ÁîüÁóÖ","1f913":"‰π¶ÂëÜÂ≠ê","1f914":"ÊÄùËÄÉ","1f915":"Âèó‰º§","1f917":"Êã•Êä±","1f920":"Áâõ‰ªî","1f921":"Â∞è‰∏ë","1f922":"ÊÅ∂ÂøÉ","1f923":"Á¨ëÁøª","1f924":"ÊµÅÂè£Ê∞¥","1f925":"ËØ¥Ë∞é","1f927":"ÊâìÂñ∑Âöè","1f928":"ÊåëÁúâ","1f929":"ÊòüÊòüÁúº","1f92a":"ÁñØÁãÇ","1f92b":"Âòò","1f92c":"È™Ç‰∫∫","1f92d":"ÊçÇÂò¥Á¨ë","1f92e":"ÂëïÂêê","1f92f":"ÁàÜÁÇ∏Â§¥","1f970":"ÂñúÊ¨¢","1f971":"ÂìàÊ¨†","1f972":"Âê´Ê≥™ÂæÆÁ¨ë","1f973":"Ê¥æÂØπ","1f974":"ÈÜâ‰∫Ü","1f975":"ÁÉ≠","1f976":"ÂÜ∑","1f979":"ÊÑüÂä®","1f97a":"ÂèØÊÄú","1f44d":"Ëµû","1f44e":"Ë∏©","1f44a":"Êã≥Â§¥","270a":"Êè°Êã≥","1f91b":"Â∑¶Êã≥","1f91c":"Âè≥Êã≥","1f44f":"ÈºìÊéå","1f64c":"‰∏æÊâã","1f450":"ÂèåÊâã","1f91d":"Êè°Êâã","1f64f":"Á•àÁ•∑","270c":"ËÄ∂","1f91e":"‰∫§ÂèâÊâãÊåá","1f91f":"Áà±‰Ω†","1f918":"ÊëáÊªö","1f44c":"OK","1f448":"ÂêëÂ∑¶","1f449":"ÂêëÂè≥","1f446":"Âêë‰∏ä","1f447":"Âêë‰∏ã","261d":"È£üÊåá","270b":"ÊâãÊéå","1f91a":"ÊâãËÉå","1f590":"Âº†ÂºÄÊâã","1f44b":"Êå•Êâã","1f4aa":"Âä†Ê≤π",2764:"Áà±ÂøÉ","1f495":"‰∏§È¢óÂøÉ","1f496":"Èó™‰∫ÆÁöÑÂøÉ","1f497":"ÂøÉË∑≥","1f498":"‰∏òÊØîÁâπ","1f499":"ËìùÂøÉ","1f49a":"ÁªøÂøÉ","1f49b":"ÈªÑÂøÉ","1f49c":"Á¥´ÂøÉ","1f5a4":"ÈªëÂøÉ","1f90d":"ÁôΩÂøÉ","1f90e":"Ê£ïÂøÉ","1f494":"ÂøÉÁ¢é",2763:"ÂøÉÂèπÂè∑","1f48b":"‰∫≤Âêª","1f525":"ÁÅ´","2b50":"ÊòüÊòü","1f31f":"Èó™Êòü",2728:"Èó™ÂÖâ","1f4a5":"ÁàÜÁÇ∏","1f4af":"100ÂàÜ","1f389":"Â∫ÜÁ•ù","1f38a":"ÂΩ©Â∏¶","1f381":"Á§ºÁâ©","1f3c6":"Â•ñÊùØ","1f4a1":"ÁÅØÊ≥°","1f4a4":"Áù°Áú†","1f4ac":"ÂØπËØù","1f4ad":"ÊÉ≥Ê≥ï","1f440":"ÁúºÁùõ","1f4f7":"Áõ∏Êú∫","1f3b5":"Èü≥Á¨¶","1f3b6":"Èü≥‰πê","1f4e2":"ÂñáÂè≠","1f514":"ÈìÉÈìõ","1f436":"Áãó","1f431":"Áå´","1f42d":"ËÄÅÈº†","1f430":"ÂÖîÂ≠ê","1f43b":"ÁÜä","1f43c":"ÁÜäÁå´","1f428":"ËÄÉÊãâ","1f42f":"ËÄÅËôé","1f981":"ÁãÆÂ≠ê","1f437":"Áå™","1f438":"ÈùíËõô","1f412":"Áå¥Â≠ê","1f414":"È∏°","1f427":"‰ºÅÈπÖ","1f426":"È∏ü","1f34e":"ËãπÊûú","1f34a":"Ê©òÂ≠ê","1f34b":"Êü†Ê™¨","1f34c":"È¶ôËïâ","1f349":"Ë•øÁìú","1f353":"ËçâËéì","1f370":"ËõãÁ≥ï","1f382":"ÁîüÊó•ËõãÁ≥ï","1f354":"Ê±âÂ†°","1f355":"Êä´Ëê®","1f35c":"Èù¢Êù°","1f35e":"Èù¢ÂåÖ","1f37a":"Âï§ÈÖí","1f377":"Á∫¢ÈÖí",2615:"ÂíñÂï°",2600:"Â§™Èò≥","1f324":"Êô¥Èó¥Â§ö‰∫ë","26c5":"Â§ö‰∫ë","1f327":"‰∏ãÈõ®","26c8":"Èõ∑ÈòµÈõ®","1f308":"ÂΩ©Ëôπ","1f319":"Êúà‰∫Æ","1f31e":"Â§™Èò≥ËÑ∏","1f33b":"ÂêëÊó•Ëëµ","1f337":"ÈÉÅÈáëÈ¶ô","1f339":"Áé´Áë∞","1f33a":"Êú®Êßø","1f340":"ÂõõÂè∂Ëçâ","1f332":"ÊùæÊ†ë","1f334":"Ê£ïÊ¶àÊ†ë","1f697":"Ê±ΩËΩ¶","1f695":"Âá∫ÁßüËΩ¶","1f68c":"ÂÖ¨‰∫§ËΩ¶","1f691":"ÊïëÊä§ËΩ¶","1f692":"Ê∂àÈò≤ËΩ¶",2708:"È£ûÊú∫","1f680":"ÁÅ´ÁÆ≠","1f6b2":"Ëá™Ë°åËΩ¶","1f4f1":"ÊâãÊú∫","1f4bb":"ÁîµËÑë","1f4fa":"ÁîµËßÜ","1f4f0":"Êä•Á∫∏","1f4d6":"‰π¶","270f":"ÈìÖÁ¨î","1f4dd":"Â§áÂøòÂΩï","1f4b0":"Èí±Ë¢ã","1f4b5":"ÁæéÂÖÉ","1f48e":"ÈíªÁü≥"},P={};Object.entries(j).forEach(([t,s])=>{P[s]=t});const _=[{name:"Á¨ëËÑ∏",emojis:["1f600","1f601","1f602","1f603","1f604","1f605","1f606","1f609","1f60a","1f60b","1f60c","1f60d","1f60e","1f60f","1f610","1f612","1f613","1f614","1f616","1f618","1f61a","1f61c","1f61d","1f61e","1f620","1f621","1f622","1f623","1f624","1f625","1f628","1f629","1f62a","1f62b","1f62d","1f62e","1f62f","1f630","1f631","1f632","1f633","1f634","1f635","1f636","1f637","1f641","1f642","1f643","1f644","1f910","1f911","1f912","1f913","1f914","1f915","1f917","1f920","1f921","1f922","1f923","1f924","1f925","1f927","1f928","1f929","1f92a","1f92b","1f92c","1f92d","1f92e","1f92f","1f970","1f971","1f972","1f973","1f974","1f975","1f976","1f979","1f97a"].map(t=>({code:t,name:j[t]}))},{name:"ÊâãÂäø",emojis:["1f44d","1f44e","1f44a","270a","1f91b","1f91c","1f44f","1f64c","1f450","1f91d","1f64f","270c","1f91e","1f91f","1f918","1f44c","1f448","1f449","1f446","1f447","261d","270b","1f91a","1f590","1f44b","1f4aa"].map(t=>({code:t,name:j[t]}))},{name:"Áà±ÂøÉ",emojis:["2764","1f495","1f496","1f497","1f498","1f499","1f49a","1f49b","1f49c","1f5a4","1f90d","1f90e","1f494","2763","1f48b"].map(t=>({code:t,name:j[t]}))},{name:"Á¨¶Âè∑",emojis:["1f525","2b50","1f31f","2728","1f4a5","1f4af","1f389","1f38a","1f381","1f3c6","1f4a1","1f4a4","1f4ac","1f4ad","1f440","1f4f7","1f3b5","1f3b6","1f4e2","1f514"].map(t=>({code:t,name:j[t]}))}];function I(t,s="/static/emoji"){return`${s}/${t}.png`}function oe(t){return j[t]||t}function ne(t){return P[t]}function M(t){const s=[],c=/\[([^\]]+)\]/g;let n=0,a;for(;(a=c.exec(t))!==null;){a.index>n&&s.push({type:"text",content:t.slice(n,a.index)});const v=a[1],g=P[v];g?s.push({type:"emoji",content:v,code:g}):s.push({type:"text",content:a[0]}),n=c.lastIndex}return n<t.length&&s.push({type:"text",content:t.slice(n)}),s}function $(t){const s=document.createElement("div");s.innerHTML=t;const c=n=>{if(n.nodeType===Node.TEXT_NODE)return n.textContent||"";if(n.nodeType===Node.ELEMENT_NODE){const a=n;return a.tagName==="IMG"?a.getAttribute("alt")||"":a.tagName==="BR"?`
`:Array.from(a.childNodes).map(c).join("")}return""};return c(s).trim()}const ae={class:"emoji-picker"},ce=["onClick"],se=["src","onError"],le={key:1,class:"tab-fallback"},fe=["onClick"],re=["src","onError"],ie={key:1,class:"emoji-fallback"},me=e.defineComponent({__name:"EmojiPicker",props:{categories:{default:()=>_},basePath:{default:"/static/emoji"},columns:{default:8}},emits:["select"],setup(t,{emit:s}){const c=t,n=s,{categories:a,basePath:v,columns:g}=e.toRefs(c),p=e.computed(()=>a.value||_),B=e.ref(0),E=e.ref(new Set),h=e.computed(()=>{var d;return((d=p.value[B.value])==null?void 0:d.emojis)||[]}),i=d=>I(d,v.value),m=d=>{n("select",d)},N=d=>{E.value=new Set([...E.value,d])};return(d,S)=>{const x=e.resolveComponent("scroll-view");return e.openBlock(),e.createElementBlock("view",ae,[e.createVNode(x,{class:"category-tabs","scroll-x":""},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(p.value,(f,y)=>(e.openBlock(),e.createElementBlock("view",{key:y,class:e.normalizeClass(["tab-item",{active:B.value===y}]),onClick:b=>B.value=y},[f.emojis[0]&&!E.value.has(f.emojis[0].code)?(e.openBlock(),e.createElementBlock("image",{key:0,src:i(f.emojis[0].code),class:"tab-icon",onError:()=>N(f.emojis[0].code)},null,40,se)):(e.openBlock(),e.createElementBlock("text",le,e.toDisplayString(f.name.charAt(0)),1))],10,ce))),128))]),_:1}),e.createVNode(x,{class:"emoji-grid-wrapper","scroll-y":""},{default:e.withCtx(()=>[e.createElementVNode("view",{class:"emoji-grid",style:e.normalizeStyle({"--columns":e.unref(g)})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.value,f=>(e.openBlock(),e.createElementBlock("view",{key:f.code,class:"emoji-item",onClick:y=>m(f)},[E.value.has(f.code)?(e.openBlock(),e.createElementBlock("text",ie,e.toDisplayString(f.name),1)):(e.openBlock(),e.createElementBlock("image",{key:0,src:i(f.code),class:"emoji-img",mode:"aspectFit",onError:()=>N(f.code)},null,40,re))],8,fe))),128))],4)]),_:1})])}}}),R=(t,s)=>{const c=t.__vccOpts||t;for(const[n,a]of s)c[n]=a;return c},F=R(me,[["__scopeId","data-v-7a233710"]]),de={key:0,class:"text-content"},ue={key:0},ge=["src"],ke=["src"],ve={key:2,class:"video-content"},pe=["src","poster"],Ee={class:"voice-duration"},he={key:4,class:"card-content"},ye={class:"card-title"},Be={class:"name"},be={class:"card-body"},Ce={key:0,class:"card-row"},Ne={key:1,class:"card-row"},xe={key:0,class:"card-footer"},we={key:5,class:"message-status"},Ve={key:0,class:"status-sending"},je=e.defineComponent({__name:"MessageBubble",props:{message:{},emojiBasePath:{default:"/static/emoji"}},emits:["imageClick","voiceClick","cardAction","retry"],setup(t,{emit:s}){const c=t,n=s,a=e.ref(!1),v=e.computed(()=>c.message.type!=="text"?[]:M(c.message.content)),g=i=>I(i,c.emojiBasePath),p=()=>{n("imageClick",c.message)},B=()=>{n("voiceClick",c.message)},E=()=>{n("cardAction",c.message)},h=()=>{n("retry",c.message)};return(i,m)=>{var N,d,S,x,f,y;return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["message-bubble",[t.message.sender,t.message.type]])},[t.message.type==="text"?(e.openBlock(),e.createElementBlock("view",de,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(v.value,b=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:b.content},[b.type==="text"?(e.openBlock(),e.createElementBlock("text",ue,e.toDisplayString(b.content),1)):b.type==="emoji"?(e.openBlock(),e.createElementBlock("image",{key:1,src:g(b.code),class:"emoji-inline",mode:"aspectFit"},null,8,ge)):e.createCommentVNode("",!0)],64))),128))])):t.message.type==="image"?(e.openBlock(),e.createElementBlock("view",{key:1,class:"image-content",onClick:p},[e.createElementVNode("image",{src:t.message.mediaUrl,mode:"widthFix",class:"message-image"},null,8,ke)])):t.message.type==="video"?(e.openBlock(),e.createElementBlock("view",ve,[e.createElementVNode("video",{src:t.message.mediaUrl,poster:t.message.mediaThumbnail,class:"message-video",controls:""},null,8,pe)])):t.message.type==="voice"?(e.openBlock(),e.createElementBlock("view",{key:3,class:"voice-content",onClick:B},[e.createElementVNode("image",{src:"",class:e.normalizeClass(["voice-icon",{playing:a.value}])},null,2),e.createElementVNode("text",Ee,e.toDisplayString(t.message.voiceDuration)+"''",1)])):t.message.type==="card"?(e.openBlock(),e.createElementBlock("view",he,[e.createElementVNode("view",ye,[e.createElementVNode("text",Be,e.toDisplayString((N=t.message.card)==null?void 0:N.title),1),e.createElementVNode("text",{class:e.normalizeClass(["status",(d=t.message.card)==null?void 0:d.statusType])},e.toDisplayString((S=t.message.card)==null?void 0:S.status),3)]),e.createElementVNode("view",be,[(x=t.message.card)!=null&&x.days?(e.openBlock(),e.createElementBlock("view",Ce,[m[0]||(m[0]=e.createElementVNode("text",{class:"label"},"Êó∂ÈïøÔºö",-1)),e.createElementVNode("text",null,e.toDisplayString(t.message.card.days),1)])):e.createCommentVNode("",!0),(f=t.message.card)!=null&&f.range?(e.openBlock(),e.createElementBlock("view",Ne,[m[1]||(m[1]=e.createElementVNode("text",{class:"label"},"Êó∂Èó¥Ôºö",-1)),e.createElementVNode("text",null,e.toDisplayString(t.message.card.range),1)])):e.createCommentVNode("",!0)]),(y=t.message.card)!=null&&y.actionText?(e.openBlock(),e.createElementBlock("view",xe,[e.createElementVNode("button",{class:"card-btn",onClick:E},e.toDisplayString(t.message.card.actionText),1)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),t.message.sender==="self"&&t.message.status?(e.openBlock(),e.createElementBlock("view",we,[t.message.status==="sending"?(e.openBlock(),e.createElementBlock("text",Ve,"ÂèëÈÄÅ‰∏≠...")):t.message.status==="failed"?(e.openBlock(),e.createElementBlock("text",{key:1,class:"status-failed",onClick:h},"ÂèëÈÄÅÂ§±Ë¥•")):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],2)}}}),L=R(je,[["__scopeId","data-v-aaa107c3"]]),Se={class:"chat-room"},$e={class:"message-container"},_e={key:0,class:"tip-line"},Te={class:"tip"},Pe=["src"],Ie=["src"],Re={class:"input-area"},De={class:"input-container"},Ae={class:"input-box"},Me={key:0,class:"input-wrapper"},Fe={key:0,class:"editor-placeholder"},Le={key:1,class:"plus-panel"},A="data:image/svg+xml,...",Ue="data:image/svg+xml,...",qe="data:image/svg+xml,...",ze="data:image/svg+xml,...",Oe=e.defineComponent({__name:"ChatRoom",props:{messages:{default:()=>[]},currentUser:{},targetUser:{},showEmoji:{type:Boolean,default:!0},showPlus:{type:Boolean,default:!0},enableVoice:{type:Boolean,default:!1},placeholder:{default:"ËØ∑ËæìÂÖ•Ê∂àÊÅØ..."},emojiBasePath:{default:"/static/emoji"},maxLines:{default:10}},emits:["send","sendImage","sendVideo","sendVoice","messageClick","messageLongPress","cardAction","inputChange","loadMore"],setup(t,{emit:s}){const c=t,n=s,a=`chat-editor-${Date.now()}`,v=e.ref(!1),g=e.ref(null),p=e.ref(""),B=e.ref(0),E=e.ref(!1),h=e.ref(!1),i=e.ref(!1),m=e.ref(null),N=e.computed(()=>_),d=e.computed(()=>$(p.value).length>0),S=()=>{e.nextTick(()=>{B.value=99999})};e.watch(()=>c.messages.length,()=>{S()}),e.onMounted(()=>{S()});const x=()=>{v.value=!0,e.nextTick(()=>{const o=document.querySelector(`#${a}`);o&&(g.value=o)}),uni.createSelectorQuery().select(`#${a}`).context(o=>{o!=null&&o.context&&(g.value=o.context)}).exec()},f=o=>{var l;p.value=((l=o.detail)==null?void 0:l.html)||"",n("inputChange",$(p.value))},y=()=>{h.value=!1,i.value=!1},b=()=>{D()},D=()=>{const o=window.getSelection();o&&o.rangeCount>0&&(m.value=o.getRangeAt(0).cloneRange())},U=()=>{E.value=!E.value},q=()=>{h.value?h.value=!1:(D(),i.value=!1,h.value=!0)},z=()=>{i.value?i.value=!1:(h.value=!1,i.value=!0)},O=o=>{H(o.code,o.name)},H=(o,l)=>{const w=`${c.emojiBasePath}/${o}.png`,V=`[${l}]`;try{const r=document.querySelector(`#${a} .ql-editor`);if(!r)return;const k=document.createElement("img");if(k.src=w,k.alt=V,k.className="emoji-inline",k.style.cssText="width:20px;height:20px;vertical-align:middle;display:inline;",m.value&&r.contains(m.value.commonAncestorContainer)){const u=window.getSelection();u==null||u.removeAllRanges(),u==null||u.addRange(m.value);const C=m.value;C.deleteContents(),C.insertNode(k),C.setStartAfter(k),C.collapse(!0),m.value=C.cloneRange()}else{const u=r.querySelector("p");if(u){const C=u.querySelector("br");C&&u.textContent===""&&C.remove(),u.appendChild(k);const T=document.createRange();T.setStartAfter(k),T.collapse(!0),m.value=T.cloneRange()}else r.appendChild(k)}r.dispatchEvent(new Event("input",{bubbles:!0}))}catch(r){console.error("[ChatRoom] ÊèíÂÖ•Ë°®ÊÉÖÂ§±Ë¥•:",r)}g.value&&g.value.insertImage({src:w,alt:V,width:"20px",height:"20px",extClass:"emoji-inline"})},G=()=>{var V;const o=p.value,l=$(o);if(!l.trim())return;n("send",{type:"text",content:l,html:o}),p.value="";const w=document.querySelector(`#${a} .ql-editor`);w&&(w.innerHTML="<p><br></p>"),(V=g.value)!=null&&V.setContents&&g.value.setContents({html:""})},K=()=>{},Q=()=>{},X=o=>{n("messageClick",o)},J=o=>{n("messageClick",o)},W=o=>{n("cardAction",o)},Y=o=>{},Z=()=>{n("loadMore")},ee=()=>{uni.chooseImage({count:9,success:o=>{o.tempFilePaths.forEach(l=>{n("sendImage",{url:l,type:"image"})})}}),i.value=!1},te=()=>{uni.chooseImage({count:1,sourceType:["camera"],success:o=>{n("sendImage",{url:o.tempFilePaths[0],type:"image"})}}),i.value=!1};return(o,l)=>{const w=e.resolveComponent("scroll-view"),V=e.resolveComponent("editor");return e.openBlock(),e.createElementBlock("view",Se,[e.createVNode(w,{class:"message-list","scroll-y":"","scroll-top":B.value,"scroll-with-animation":!0,onScrolltoupper:Z},{default:e.withCtx(()=>[e.createElementVNode("view",$e,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.messages,r=>{var k,u;return e.openBlock(),e.createElementBlock("view",{key:r.id,class:e.normalizeClass(["message-row",r.sender])},[r.type==="tip"?(e.openBlock(),e.createElementBlock("view",_e,[e.createElementVNode("text",Te,e.toDisplayString(r.content),1)])):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[r.sender==="other"?(e.openBlock(),e.createElementBlock("image",{key:0,src:r.avatar||((k=t.targetUser)==null?void 0:k.avatar)||A,class:"avatar"},null,8,Pe)):e.createCommentVNode("",!0),e.createVNode(L,{message:r,"emoji-base-path":t.emojiBasePath,onImageClick:X,onVoiceClick:J,onCardAction:W,onRetry:Y},null,8,["message","emoji-base-path"]),r.sender==="self"?(e.openBlock(),e.createElementBlock("image",{key:1,src:((u=t.currentUser)==null?void 0:u.avatar)||A,class:"avatar"},null,8,Ie)):e.createCommentVNode("",!0)],64))],2)}),128))])]),_:1},8,["scroll-top"]),e.createElementVNode("view",Re,[e.createElementVNode("view",De,[t.enableVoice?(e.openBlock(),e.createElementBlock("button",{key:0,class:"icon-btn",onClick:U},[e.createElementVNode("image",{class:"btn-icon",src:Ue})])):e.createCommentVNode("",!0),e.createElementVNode("view",Ae,[E.value?(e.openBlock(),e.createElementBlock("view",{key:1,class:"voice-input",onTouchstart:K,onTouchend:Q},[...l[0]||(l[0]=[e.createElementVNode("text",null,"Êåâ‰ΩèËØ¥ËØù",-1)])],32)):(e.openBlock(),e.createElementBlock("view",Me,[e.withDirectives(e.createVNode(V,{id:a,class:"chat-editor",placeholder:t.placeholder,onReady:x,onInput:f,onFocus:y,onBlur:b},null,8,["placeholder"]),[[e.vShow,v.value]]),v.value?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",Fe,[e.createElementVNode("text",null,e.toDisplayString(t.placeholder),1)]))]))]),t.showEmoji?(e.openBlock(),e.createElementBlock("button",{key:1,class:"icon-btn",onClick:q},[e.createElementVNode("image",{class:"btn-icon",src:qe})])):e.createCommentVNode("",!0),d.value?(e.openBlock(),e.createElementBlock("button",{key:2,class:"icon-btn send-btn",onClick:G},[...l[1]||(l[1]=[e.createElementVNode("text",null,"ÂèëÈÄÅ",-1)])])):t.showPlus?(e.openBlock(),e.createElementBlock("button",{key:3,class:"icon-btn",onClick:z},[e.createElementVNode("image",{class:"btn-icon",src:ze})])):e.createCommentVNode("",!0)]),h.value?(e.openBlock(),e.createBlock(F,{key:0,categories:N.value,"base-path":t.emojiBasePath,onSelect:O},null,8,["categories","base-path"])):e.createCommentVNode("",!0),i.value?(e.openBlock(),e.createElementBlock("view",Le,[e.renderSlot(o.$slots,"plus-panel",{},()=>[e.createElementVNode("view",{class:"plus-grid"},[e.createElementVNode("view",{class:"plus-item",onClick:ee},[...l[2]||(l[2]=[e.createElementVNode("view",{class:"plus-icon"},[e.createElementVNode("text",null,"üì∑")],-1),e.createElementVNode("text",{class:"plus-label"},"Áõ∏ÂÜå",-1)])]),e.createElementVNode("view",{class:"plus-item",onClick:te},[...l[3]||(l[3]=[e.createElementVNode("view",{class:"plus-icon"},[e.createElementVNode("text",null,"üì∏")],-1),e.createElementVNode("text",{class:"plus-label"},"ÊãçÊëÑ",-1)])])])],!0)])):e.createCommentVNode("",!0)])])}}}),He=R(Oe,[["__scopeId","data-v-d3d7d09e"]]);exports.ChatRoom=He;exports.EmojiPicker=F;exports.MessageBubble=L;exports.defaultEmojiCategories=_;exports.emojiNameMap=j;exports.getEmojiCode=ne;exports.getEmojiName=oe;exports.getEmojiUrl=I;exports.htmlToText=$;exports.parseEmojiText=M;
